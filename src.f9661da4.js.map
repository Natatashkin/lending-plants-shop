{"version":3,"sources":["js/slider.json","js/slider.js","index.js"],"names":["module","exports","title","description","Slider","constructor","sliderData","imagesContainer","sliderInfoSelector","prevBtnSelector","nextBtnSelector","currentIndex","sliderInfo","refs","getRefs","init","document","querySelector","images","querySelectorAll","sliderDescription","sliderTitle","sliderText","prevButton","prevBtnTitle","nextButton","nextBtnTitle","normalizeDataObject","setSliderMainContent","addEventListeners","setSliderHeight","slider","window","matchMedia","matches","innerHeight","style","height","removeAttribute","imagesLinks","map","image","src","item","index","onPrevButtonClick","console","log","decrementIndex","onNextButtonClick","incrementIndex","addEventListener","bind","screen","orientation","onResizeWindow","type","currentSliderInfo","textContent","resetActiveImage","find","el","classList","add","setButtonsContent","activeImage","remove","indexPrevBtn","decrementIndexForButtons","indexNextBtn","incrementIndexForButtons","titleForPrevBtn","titleForNextBtn","length"],"mappings":"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","file":"src.f9661da4.js","sourceRoot":"../src","sourcesContent":["module.exports=[{title:\"kembang flower mantap\",description:\"Lorem Ipsum is simply dummy text of the printing and typesetting industry Lorem Ipsum has been the industry's standard dummy text ever since the 1500s\"},{title:\"Rahasia Plant\",description:\"Lorem Ipsum is simply dummy text of the printing and typesetting industry Lorem Ipsum has been the industry's standard dummy text ever since the\"},{title:\"Kaktus Plant\",description:\"Lorem Ipsum is simply dummy text of the printing and typesetting industry Lorem Ipsum has been the industry's standard dummy text ever since the s\"}];","export default class Slider {\n  constructor({\n    sliderData,\n    imagesContainer,\n    sliderInfoSelector,\n    prevBtnSelector,\n    nextBtnSelector,\n  }) {\n    this.currentIndex = 0;\n    this.sliderInfo = sliderData;\n    this.refs = this.getRefs(\n      imagesContainer,\n      sliderInfoSelector,\n      prevBtnSelector,\n      nextBtnSelector,\n    );\n\n    this.init();\n  }\n\n  getRefs(\n    imagesContainer,\n    sliderInfoSelector,\n    prevBtnSelector,\n    nextBtnSelector,\n  ) {\n    const refs = {};\n    refs.imagesContainer = document.querySelector(imagesContainer);\n    refs.images = refs.imagesContainer.querySelectorAll('.slide');\n    refs.sliderDescription = document.querySelector(sliderInfoSelector);\n    refs.sliderTitle = refs.sliderDescription.querySelector('.slider-title');\n    refs.sliderText = refs.sliderDescription.querySelector('.slider-descr');\n    refs.prevButton = document.querySelector(prevBtnSelector);\n    refs.prevBtnTitle = refs.prevButton.querySelector('.js-prev');\n    refs.nextButton = document.querySelector(nextBtnSelector);\n    refs.nextBtnTitle = refs.nextButton.querySelector('.js-next');\n    return refs;\n  }\n\n  init() {\n    this.normalizeDataObject();\n    this.setSliderMainContent();\n    this.addEventListeners();\n  }\n\n  setSliderHeight() {\n    const slider = document.querySelector('.slider-container');\n    if (window.matchMedia(`(max-width: 767px)`).matches) {\n      const innerHeight = window.innerHeight;\n      slider.style.height = `${innerHeight}px`;\n      return slider.style.height;\n    } else {\n      slider.removeAttribute('style');\n    }\n  }\n\n  normalizeDataObject() {\n    const { sliderInfo, refs } = this;\n    const { images } = refs;\n    const imagesLinks = [...images].map(image => image.src);\n\n    sliderInfo.map((item, index) => (item.src = imagesLinks[index]));\n  }\n\n  onPrevButtonClick() {\n    console.log('клик по prevButton');\n    this.decrementIndex();\n    this.setSliderMainContent();\n  }\n\n  onNextButtonClick() {\n    console.log('клик по nextButton');\n    this.incrementIndex();\n    this.setSliderMainContent();\n  }\n\n  addEventListeners() {\n    this.refs.prevButton.addEventListener(\n      'click',\n      this.onPrevButtonClick.bind(this),\n    );\n    this.refs.nextButton.addEventListener(\n      'click',\n      this.onNextButtonClick.bind(this),\n    );\n    screen.orientation.addEventListener(\n      'change',\n      this.onResizeWindow.bind(this),\n    );\n  }\n\n  onResizeWindow() {\n    console.log('перевернули экран');\n    const slider = document.querySelector('.slider-container');\n\n    if (screen.orientation.type === 'portrait-primary') {\n      this.setSliderHeight();\n    } else {\n      slider.removeAttribute('style');\n    }\n  }\n\n  setSliderMainContent() {\n    const { sliderInfo, currentIndex } = this;\n    const { sliderTitle, sliderText, images } = this.refs;\n\n    const currentSliderInfo = sliderInfo[currentIndex];\n    sliderTitle.textContent = currentSliderInfo.title;\n    sliderText.textContent = currentSliderInfo.description;\n\n    this.resetActiveImage();\n\n    const currentImage = [...images].find(\n      el => el.src === currentSliderInfo.src,\n    );\n\n    currentImage.classList.add('is-active');\n    this.setButtonsContent();\n    this.setSliderHeight();\n  }\n\n  resetActiveImage() {\n    const { imagesContainer } = this.refs;\n    const activeImage = imagesContainer.querySelector('.is-active');\n    if (activeImage) {\n      activeImage.classList.remove('is-active');\n    }\n  }\n\n  setButtonsContent() {\n    const { sliderInfo, refs } = this;\n    const { prevBtnTitle, nextBtnTitle } = refs;\n\n    const indexPrevBtn = this.decrementIndexForButtons();\n    const indexNextBtn = this.incrementIndexForButtons();\n\n    const titleForPrevBtn = sliderInfo[indexPrevBtn];\n    const titleForNextBtn = sliderInfo[indexNextBtn];\n    prevBtnTitle.textContent = titleForPrevBtn.title;\n    nextBtnTitle.textContent = titleForNextBtn.title;\n  }\n\n  incrementIndex() {\n    if (this.currentIndex === this.sliderInfo.length - 1) {\n      this.currentIndex = 0;\n      return;\n    }\n    this.currentIndex += 1;\n  }\n\n  decrementIndex() {\n    if (this.currentIndex === 0) {\n      this.currentIndex = this.sliderInfo.length - 1;\n      return;\n    }\n\n    this.currentIndex -= 1;\n  }\n\n  incrementIndexForButtons() {\n    let index = this.currentIndex + 1;\n    if (index > this.sliderInfo.length - 1) {\n      index = 0;\n      return index;\n    }\n    return index;\n  }\n  decrementIndexForButtons() {\n    let index = this.currentIndex - 1;\n    if (index < 0) {\n      index = this.sliderInfo.length - 1;\n      return index;\n    }\n    return index;\n  }\n}\n","import './sass/main.scss';\nimport sliderInfo from './js/slider.json';\nimport Slider from './js/slider';\n\nconst slider = new Slider({\n  sliderData: sliderInfo,\n  imagesContainer: '[data-images]',\n  sliderInfoSelector: '[data-info]',\n  prevBtnSelector: '[data-action=\"previous\"]',\n  nextBtnSelector: '[data-action=\"next\"]',\n});\n"]}